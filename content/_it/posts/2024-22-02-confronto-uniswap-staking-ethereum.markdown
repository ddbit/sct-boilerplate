---
layout: post
title: "Investimenti cripto e rischio sicurezza: un confronto fra Uniswap e lo Staking"
date: 2024-02-22 
type: post

categories:
- DeFi
- In-Depth

tags: [Uniswap, Staking]
---

Gli investitori che cercano di diversificare le loro strategie nel mondo della finanza decentralizzata si trovano di fronte, fra le altre, queste due possibilità: il Proof of Stake (PoS) di Ethereum e le liquidity pool di Uniswap. Entrambi rappresentano approcci innovativi all'investimento e al guadagno passivo nel settore delle criptovalute, ma con dinamiche, rischi e potenziali rendimenti molto diversi. In questo post, esploreremo le caratteristiche fondamentali, i vantaggi e le sfide anche tecniche associate a ciascuna di queste opzioni di investimento.

**In nessun caso queste informazioni devono essere considerate un consiglio finanziario o un invito ad investire in uno dei sistemi descritti.**


## Il Proof of Stake di Ethereum: Una Rivoluzione nell'Ecosistema Blockchain

Con l'avvento di Ethereum 2.0, il passaggio dal Proof of Work (PoW) al Proof of Stake (PoS) ha segnato una pietra miliare nella storia di Ethereum. Questo cambiamento non solo mira a migliorare l'efficienza energetica della rete ma offre anche agli investitori l'opportunità di partecipare direttamente alla sicurezza e al funzionamento dell'ecosistema Ethereum attraverso il processo di staking. Gli investitori possono "bloccare" una certa quantità di ETH come stake, contribuendo così alla validazione delle transazioni e alla creazione di nuovi blocchi. In cambio, ricevono ricompense in ETH, generando un flusso di reddito passivo basato sulla quantità di criptovaluta impegnata e sulla durata dello staking. Questo approccio non solo democratizza la partecipazione alla rete ma introduce anche un meccanismo di investimento relativamente prevedibile e a basso rischio, sebbene non esente da sfide legate alla volatilità del mercato e alla liquidità dello stake.

## Le Liquidity Pool di Uniswap: Innovazione nel Trading Decentralizzato

Dall'altra parte dello spettro, le liquidity pool di Uniswap rappresentano un'innovazione chiave nel trading di criptovalute e nella finanza decentralizzata (DeFi). Uniswap, uno dei più noti exchange decentralizzati (DEX), si basa su un modello di market maker automatizzato (AMM) che elimina la necessità di libri ordini tradizionali, consentendo scambi diretti tra criptovalute attraverso pool di liquidità. Gli investitori possono diventare fornitori di liquidità depositando coppie di token in queste pool, facilitando così gli scambi e guadagnando una quota delle commissioni di transazione proporzionale alla loro partecipazione nella pool. Questo metodo offre l'opportunità di guadagni passivi significativi, ma è anche associato a rischi più elevati, come l'impermanent loss, che può erodere i rendimenti in scenari di forte volatilità del mercato.

## Quanto rende lo staking su Ethereum?

Secondo il sito [blocknative.com](https://www.blocknative.com/) il rendimento annuale dello staking si aggira sul 4%. In questo calcolo stiamo ipotizzando che il prezzo di ETH resti immutato nel periodo, ovvero ci concentriamo solo sulla componente staking del profitto.

Ecco i dati formattati come una tabella:

| Duration | ETH Stake                | ETH Reward             | Return     | Return in % |
|----------|--------------------------|------------------------|------------|-------------|
| Day      | 32.0035 ETH ($94,364.77) | 0.0035 ETH ($10.21)    | $10.21     | 0.01 %      |
| Week     | 32.0242 ETH ($94,426.04) | 0.0242 ETH ($71.48)    | $71.48     | 0.08 %      |
| Month    | 32.1074 ETH ($94,671.13) | 0.1074 ETH ($316.57)   | $316.57    | 0.34 %      |
| Year     | 33.2641 ETH ($98,081.93) | 1.2641 ETH ($3,727.37) | $3,727.37  | 3.95 %      |

Questa tabella presenta un confronto tra diversi periodi di tempo (giorno, settimana, mese, anno) per un investimento in staking di Ethereum, mostrando la quantità di ETH staked, la ricompensa in ETH ricevuta, il ritorno in dollari, e il ritorno percentuale associato.

**Non sembra un rendimento particolarmente appetitoso** ma nella finanza quello che conta è il rapporto tra rischio e rendimento. Un rendimento del genere sembra più o meno pari a quello offerto da un conto di deposito di una qualunque banca.

La domanda logica quindi è: **è più rischioso tenere i soldi nello staking oppure in banca**. Ricordiamo che i depositi fino a 100 000 euro presso una banca sono coperti dal Fondo Interbancario. Quindi il rischio collasso della banca è praticamente mitigato completamente, se poi fosse una banca di quelle "fondamentali" il cui collasso causerebbe un rischio sistemico, beh allora non ci sarebbero Fondi sufficienti per coprire le perdite, ma in questo caso saremmo di fronte ad una catastrofe economica nazionale se non globale. Quindi apparentemente il rischio del deposito bancario è vicino allo zero.

Per quanto riguarda il rischio dello staking questo è probabilmente solo di natura tecnologica. Se il protocollo o la sua implementazione risultassero diffettosi allora i fondi sarebbero a rischio.

Escludendo quindi i rischi dovuti alla volatilità di ETH possiamo riassumere che:


**Imperfezioni tecniche**: Lo staking si basa sulla tecnologia blockchain e sui software che gestiscono il processo. Sebbene rari, bug o errori tecnici possono influenzare il rendimento dello staking o persino causare la perdita di una parte dello stake.

**Rischi di slashing**: Nel PoS, lo "slashing" è una penalità applicata a chi compie azioni malevoli o non segue correttamente il protocollo. Se il validatore scelto (o uno stesso, se si gestisce direttamente la validazione) viola le regole della rete, una parte dello stake può essere "tagliata" come punizione.

**Complessità e responsabilità di gestione**: Per chi sceglie di fare staking in modo indipendente (non attraverso un servizio di staking), ci sono complessità tecniche e responsabilità, come mantenere il nodo online 24/7, che possono rappresentare una sfida.

## Quanto rende il liquidity mining su Uniswap?

Questa domanda non ha una risposta semplice. Il rendimento dipende da quante transazioni gli utenti fanno sulla pool in cui abbiamo fornito la liquidità. In momenti favorevoli come questi (22 feb 2024) una pool come USDC/ETH ha circa $127m di liquidità totale e fa circa $14M di volumi al giorno generando $43k di fees che sono pari allo 0.3%.

![image](/assets/images/uniswap-usdc-eth.png)
*source uniswap.com*

Investendo $127_000 quindi avremmo per noi una frazione pari allo 0.1% della liquidità e quindi anche lo 0.1% delle commissioni, ovvero circa $42 al giorno che annualizzato (senza compound) sarebbe circa il 12% APY 

Ma **c'è un grosso ma**, da un punto di vista finanziario le liquidity pool sono affette da impermanent loss, di cui abbiamo parlato qui: [articolo su impermanent loss](/it/post/uniswap-liquidity-pool-e-impermanent-loss.html).

Il fatto che si chiami **impermanent** farebbe pensare che in realtà si tratti di una perdita solo temporanea, ma in realtà questo è vero solo ad una condizione, ovvero che il prezzo tra i due asset nella pool sia volatile ma oscilli sostanzialmente intorno al prezzo esistente al tempo in cui abbiamo aperto la posizione.

Questo non è sostanzialmente vero per una coppia ETH/USDC 

![grafico del trend di crescita di ETH](/assets/images/Ethereum-Chart-USD-1920x1393.png)
grafico del trend di crescita di ETH rispetto a USD.

Mentre potrebbe essere abbastanza vero per due asset correlati fra loro ma che hanno un prezzo rispettivo che soffre di una certa volatilità, come ad esempio btc.

![grafico del prezzo BTC/ETH](/assets/images/btc-eth-chart.png)
grafico prezzo di BTC espresso in ETH -- *source coinmarketcap*

## Il rischio emittente in Uniswap

Se anche considerassimo nullo il rischio che ETH vada a zero nell'ipotesi che la rete Ethereum sia sicura e sempre sotto forte carico dobbiamo considerare che nelle liquidity pool dobbiamo sempre mettere due asset: ETH ed un'altra coin, sia questa una stablecoin o un token di qualche altro progetto. Le stablecoin come USDC sebbene finora abbiano dato prova di robustezza rispetto alle condizioni più burrascose del mercato sono comunque emesse da delle aziende private che possono in teoria sparire da un momento all'altro causando un distacco dal peg con il dollaro e conseguente collasso del prezzo.

### E se usassimo $DAI come moneta invece di USDC o USDT?
In realtà se andiamo a vedere com'è fatto MakerDAO, tra i collaterali utilizzati per stabilizzare $DAI è presente anche USDC, quindi il rischio emittente esce dalla porta ma rientra dalla finestra.

### Rischio emittente anche con BTC?
Sì, perché BTC non è una moneta scambiabile direttamente sugli smart contract di Ethereum e quindi esiste una versione "wrap", in pratica un consorzio chiamato WBTC emette il token che vale 1:1 con BTC garantendo l'esistenza di tali riserve. Quindi siamo di nuovo di fronte ad un asset fiduciario e quindi soggetto a rischio emittente.

## Rischio informatico in Uniswap

Uniswap non è mai stato violato! Finora. Per quanto gli smart contract di Uniswap siano considerati un vero e proprio modello di riferimento nel panorama della finanza decentralizzata, non è detto che non possa saltar fuori una vulnerabilità non ancora scoperta e che questa possa essere sfruttata per violare e rubare i fondi degli utenti.

## Il problema del compound in Uniswap

Un aspetto di Uniswap è che la nostra posizione raccoglie commission fee dalle transazioni degli utenti ma queste fee non vengono reinserite nella liquidità della pool per fare compound. A questo scopo bisognerebbe manualmente o tramite uno strumento automatico raccogliere le fee e reinvestirle nella pool.

Purtroppo se abbiamo una posizione modesta dobbiamo mettere in conto che questa operazione possa costarci anche $20-30 di gas, a seconda del momento, rendendo meno profittevole l'operazione. Per evitare queste enormi fee e approfittare del compound un metodo c'è: aprire la posizione su Uniswap ma in un layer2 come Arbitrum. Tuttavia questo introduce una nuova categoria di rischi: i layer2 come Arbitrum e Optimism sebbene siano sulla carta sicuri come la rete Ethereum di cui sfruttano gli smart contract, in realtà almeno per ora **sono ancora fortemente "centralizzati" nelle operazioni**.



## Conclusioni

In pratica non esiste una risposta semplice. Il rischio informatico e quello finanziario vanno a braccetto e come al solito prima di investire bisogna informarsi cercando di conoscere i dettagli sia algoritmici che di governance di un protocollo di finanza decentralizzata.

